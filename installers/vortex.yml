name: Vortex
game_slug: vortex-mod-manager
slug: vortex-mod-manager
version: 0.17.11
runner: wine

script:
    files:
    - setup: https://github.com/Nexus-Mods/Vortex/releases/download/v0.17.11/vortex-setup-0.17.11.exe
    - symlinks_setup: https://github.com/rockerbacon/lutris-skyrimse-installers/releases/download/1.0/vortex-symlinks.sh
    game:
        exe: drive_c/Program Files/Black Tree Gaming Ltd/Vortex/Vortex.exe
        prefix: $GAMEDIR
    installer:
    - copy:
        src: symlinks_setup
        dst: $GAMEDIR/config_scripts
    - chmodx: $GAMEDIR/config_scripts/vortex-symlinks.sh
    - execute:
        file: $GAMEDIR/config_scripts/vortex-symlinks.sh
    - task:
        name: winetricks
        prefix: $GAMEDIR
        app: win10 dotnet46
        description: Installing .NET 4.6

    ###################### REGEDITS #######################
    #### Skyrim SE ####
    # Developer install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Bethesda Softworks\Skyrim Special Edition
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\skyrim special edition
    # Steam install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Valve\Steam\Apps\489830
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\skyrim special edition
    ###################

    #### Skyrim ####
    # Developer install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Bethesda Softworks\Skyrim
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\skyrim
    # Steam install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Valve\Steam\Apps\72850
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\skyrim
    ################
    ######################################################

    - task:
        name: wineexec
        prefix: $GAMEDIR
        executable: setup
    wine:
        version: tkg-4.0-x86_64

