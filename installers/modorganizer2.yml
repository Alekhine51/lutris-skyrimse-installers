name: Mod Organizer 2
game_slug: mod-organizer-2
slug: mod-organizer-2
version: 2.2.0
runner: wine

script:
    files:
    - setup: https://github.com/ModOrganizer2/modorganizer/releases/download/v2.2.0/Mod.Organizer-2.2.0.0.exe
    - symlinks_setup: https://github.com/rockerbacon/lutris-skyrimse-installers/releases/download/1.9/vortex-symlinks.sh
    - downloads_handler: https://github.com/rockerbacon/lutris-skyrimse-installers/releases/download/1.9/vortex-downloads-handler.desktop
    game:
        exe: drive_c/Modding/MO2/ModOrganizer.exe
        prefix: $GAMEDIR
    installer:
    - copy:
        src: symlinks_setup
        dst: $GAMEDIR/config_scripts
    - chmodx: $GAMEDIR/config_scripts/vortex-symlinks.sh

    - copy:
        src: downloads_handler
        dst: $HOME/.local/share/applications
    - chmodx: $HOME/.local/share/applications/vortex-downloads-handler.desktop

    - execute:
        file: $GAMEDIR/config_scripts/vortex-symlinks.sh

    - task:
        name: winetricks
        prefix: $GAMEDIR
        app: win10 vcrun2019 dotnet40
        description: Installing Visual C++ and .NET

    ###################### REGEDITS #######################
    #### Skyrim SE ####
    # Developer install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Bethesda Softworks\Skyrim Special Edition
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\skyrim special edition
    # Steam install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Valve\Steam\Apps\489830
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\skyrim special edition
    ###################

    #### Skyrim ####
    # Developer install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Bethesda Softworks\Skyrim
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\skyrim
    # Steam install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Valve\Steam\Apps\72850
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\skyrim
    ################
    ######################################################

    #### Oblivion ####
    # Developer install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Bethesda Softworks\Oblivion
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\oblivion
    # Steam install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Valve\Steam\Apps\22330
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\oblivion
    ################
    ######################################################

    #### Fallout 4 ####
    # Developer install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Bethesda Softworks\Fallout 4
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\fallout 4
    # Steam install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Valve\Steam\Apps\377160
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\fallout 4
    ################
    ######################################################

    #### Fallout 3 - GOTY ####
    # Developer install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Bethesda Softworks\Fallout 3 goty
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\Fallout 3 goty
    # Steam install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Valve\Steam\Apps\22370
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\Fallout 3 goty
    ################
    ######################################################

    #### Fallout 3 ####
    # Developer install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Bethesda Softworks\Fallout 3
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\Fallout 3
    # Steam install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Valve\Steam\Apps\22300
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\Fallout 3
    ################
    ######################################################

    #### Fallout New Vegas ####
    # Developer install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Bethesda Softworks\Fallout New Vegas
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\Fallout New Vegas
    # Steam install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Valve\Steam\Apps\22380
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\Fallout New Vegas
    ################
    ######################################################

    #### Morrowind ####
    # Developer install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Bethesda Softworks\Morrowind
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\Morrowind
    # Steam install path
    - task:
        name: set_regedit
        prefix: $GAMEDIR
        path: HKEY_LOCAL_MACHINE\Software\Wow6432Node\Valve\Steam\Apps\22320
        type: REG_SZ
        key: "Installed Path"
        value: c:\\program files (x86)\\steam\\steamapps\\common\\Morrowind
    ################
    ######################################################

    - task:
        name: wineexec
        prefix: $GAMEDIR
        executable: setup
    wine:
        dxvk: true
        version: lutris-5.2-x86_64

